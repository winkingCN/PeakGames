using System;

internal sealed class NHICOOALMCG
{
	private const int PDKOKKJJJOG = 15;

	private const int HALCBMHMIHB = 19;

	private const int JMOBCLBMIKK = 30;

	private const int KJIFGIFGHIH = 256;

	private const int JJNGBBKFPAL = 29;

	private const int CGFGOOKBMFP = 286;

	private const int EBAPJNGINCL = 573;

	internal const int LCGGGBDBCNP = 7;

	internal const int GOAFGONKCPN = 256;

	internal const int JPFIEGDDNJO = 16;

	internal const int HCCOCLCEDHE = 17;

	internal const int DKHKFMIKDOD = 18;

	internal static readonly int[] DGLFEKKCNDB = new int[29]
	{
		0, 0, 0, 0, 0, 0, 0, 0, 1, 1,
		1, 1, 2, 2, 2, 2, 3, 3, 3, 3,
		4, 4, 4, 4, 5, 5, 5, 5, 0
	};

	internal static readonly int[] MAMLONGLKAJ = new int[30]
	{
		0, 0, 0, 0, 1, 1, 2, 2, 3, 3,
		4, 4, 5, 5, 6, 6, 7, 7, 8, 8,
		9, 9, 10, 10, 11, 11, 12, 12, 13, 13
	};

	internal static readonly int[] COFEJOHFHMD = new int[19]
	{
		0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
		0, 0, 0, 0, 0, 0, 2, 3, 7
	};

	internal static readonly byte[] LDEBLDOGGIO = new byte[19]
	{
		16, 17, 18, 0, 8, 7, 9, 6, 10, 5,
		11, 4, 12, 3, 13, 2, 14, 1, 15
	};

	internal const int GEHLKGBIKJI = 16;

	internal const int JCADJIOLFGI = 512;

	internal static readonly byte[] DPBECGPCJMG = new byte[512]
	{
		0, 1, 2, 3, 4, 4, 5, 5, 6, 6,
		6, 6, 7, 7, 7, 7, 8, 8, 8, 8,
		8, 8, 8, 8, 9, 9, 9, 9, 9, 9,
		9, 9, 10, 10, 10, 10, 10, 10, 10, 10,
		10, 10, 10, 10, 10, 10, 10, 10, 11, 11,
		11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
		11, 11, 11, 11, 12, 12, 12, 12, 12, 12,
		12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
		12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
		12, 12, 12, 12, 12, 12, 13, 13, 13, 13,
		13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
		13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
		13, 13, 13, 13, 13, 13, 13, 13, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 14, 14, 14, 14, 14, 14, 14, 14,
		14, 14, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 15, 15, 15, 15,
		15, 15, 15, 15, 15, 15, 0, 0, 16, 17,
		18, 18, 19, 19, 20, 20, 20, 20, 21, 21,
		21, 21, 22, 22, 22, 22, 22, 22, 22, 22,
		23, 23, 23, 23, 23, 23, 23, 23, 24, 24,
		24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
		24, 24, 24, 24, 25, 25, 25, 25, 25, 25,
		25, 25, 25, 25, 25, 25, 25, 25, 25, 25,
		26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 27, 27, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 28, 28,
		28, 28, 28, 28, 28, 28, 28, 28, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29, 29, 29, 29, 29, 29, 29, 29, 29,
		29, 29
	};

	internal static readonly byte[] IEKFKFAIFGD = new byte[256]
	{
		0, 1, 2, 3, 4, 5, 6, 7, 8, 8,
		9, 9, 10, 10, 11, 11, 12, 12, 12, 12,
		13, 13, 13, 13, 14, 14, 14, 14, 15, 15,
		15, 15, 16, 16, 16, 16, 16, 16, 16, 16,
		17, 17, 17, 17, 17, 17, 17, 17, 18, 18,
		18, 18, 18, 18, 18, 18, 19, 19, 19, 19,
		19, 19, 19, 19, 20, 20, 20, 20, 20, 20,
		20, 20, 20, 20, 20, 20, 20, 20, 20, 20,
		21, 21, 21, 21, 21, 21, 21, 21, 21, 21,
		21, 21, 21, 21, 21, 21, 22, 22, 22, 22,
		22, 22, 22, 22, 22, 22, 22, 22, 22, 22,
		22, 22, 23, 23, 23, 23, 23, 23, 23, 23,
		23, 23, 23, 23, 23, 23, 23, 23, 24, 24,
		24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
		24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
		24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
		25, 25, 25, 25, 25, 25, 25, 25, 25, 25,
		25, 25, 25, 25, 25, 25, 25, 25, 25, 25,
		25, 25, 25, 25, 25, 25, 25, 25, 25, 25,
		25, 25, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 26, 26, 26, 26, 26, 26, 26, 26,
		26, 26, 26, 26, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 27, 27, 27, 27, 27, 27,
		27, 27, 27, 27, 27, 28
	};

	internal static readonly int[] PCCNDDFLCKA = new int[29]
	{
		0, 1, 2, 3, 4, 5, 6, 7, 8, 10,
		12, 14, 16, 20, 24, 28, 32, 40, 48, 56,
		64, 80, 96, 112, 128, 160, 192, 224, 0
	};

	internal static readonly int[] PNJJKBGIOIE = new int[30]
	{
		0, 1, 2, 3, 4, 6, 8, 12, 16, 24,
		32, 48, 64, 96, 128, 192, 256, 384, 512, 768,
		1024, 1536, 2048, 3072, 4096, 6144, 8192, 12288, 16384, 24576
	};

	internal short[] HJNDKEJNHED;

	internal int MINEPMNHICO;

	internal JMPBGOJINHO NFHOBMLCMJJ;

	internal static int NLIHNFFELDE(int INPALLMGBMF)
	{
		return (INPALLMGBMF >= 256) ? DPBECGPCJMG[256 + (INPALLMGBMF >> 7)] : DPBECGPCJMG[INPALLMGBMF];
	}

	internal void HCKALGLMAEB(IJALLNIHFCE IBBBMACIBGK)
	{
		short[] hJNDKEJNHED = HJNDKEJNHED;
		short[] lCKGJGMIDCK = NFHOBMLCMJJ.LCKGJGMIDCK;
		int[] aDENBECKBHM = NFHOBMLCMJJ.ADENBECKBHM;
		int ePPKHDGFNND = NFHOBMLCMJJ.EPPKHDGFNND;
		int cIBMPFODGJL = NFHOBMLCMJJ.CIBMPFODGJL;
		int num = 0;
		for (int i = 0; i <= 15; i++)
		{
			IBBBMACIBGK.KBBMIHOPGJA[i] = 0;
		}
		hJNDKEJNHED[IBBBMACIBGK.BIKIKKLGPFO[IBBBMACIBGK.HGLKJACDOGP] * 2 + 1] = 0;
		int j;
		for (j = IBBBMACIBGK.HGLKJACDOGP + 1; j < 573; j++)
		{
			int num2 = IBBBMACIBGK.BIKIKKLGPFO[j];
			int i = hJNDKEJNHED[hJNDKEJNHED[num2 * 2 + 1] * 2 + 1] + 1;
			if (i > cIBMPFODGJL)
			{
				i = cIBMPFODGJL;
				num++;
			}
			hJNDKEJNHED[num2 * 2 + 1] = (short)i;
			if (num2 <= MINEPMNHICO)
			{
				IBBBMACIBGK.KBBMIHOPGJA[i]++;
				int num3 = 0;
				if (num2 >= ePPKHDGFNND)
				{
					num3 = aDENBECKBHM[num2 - ePPKHDGFNND];
				}
				short num4 = hJNDKEJNHED[num2 * 2];
				IBBBMACIBGK.ANCMCHFJPGM += num4 * (i + num3);
				if (lCKGJGMIDCK != null)
				{
					IBBBMACIBGK.JLOLMPLABAK += num4 * (lCKGJGMIDCK[num2 * 2 + 1] + num3);
				}
			}
		}
		if (num == 0)
		{
			return;
		}
		do
		{
			int i = cIBMPFODGJL - 1;
			while (IBBBMACIBGK.KBBMIHOPGJA[i] == 0)
			{
				i--;
			}
			IBBBMACIBGK.KBBMIHOPGJA[i]--;
			IBBBMACIBGK.KBBMIHOPGJA[i + 1] += 2;
			IBBBMACIBGK.KBBMIHOPGJA[cIBMPFODGJL]--;
			num -= 2;
		}
		while (num > 0);
		for (int i = cIBMPFODGJL; i != 0; i--)
		{
			int num2 = IBBBMACIBGK.KBBMIHOPGJA[i];
			while (num2 != 0)
			{
				int num5 = IBBBMACIBGK.BIKIKKLGPFO[--j];
				if (num5 <= MINEPMNHICO)
				{
					if (hJNDKEJNHED[num5 * 2 + 1] != i)
					{
						IBBBMACIBGK.ANCMCHFJPGM += (int)(((long)i - (long)hJNDKEJNHED[num5 * 2 + 1]) * hJNDKEJNHED[num5 * 2]);
						hJNDKEJNHED[num5 * 2 + 1] = (short)i;
					}
					num2--;
				}
			}
		}
	}

	internal void NGIHFAPCCHG(IJALLNIHFCE IBBBMACIBGK)
	{
		short[] hJNDKEJNHED = HJNDKEJNHED;
		short[] lCKGJGMIDCK = NFHOBMLCMJJ.LCKGJGMIDCK;
		int cAGHCNIPEHK = NFHOBMLCMJJ.CAGHCNIPEHK;
		int num = -1;
		IBBBMACIBGK.CELAEDOLINC = 0;
		IBBBMACIBGK.HGLKJACDOGP = 573;
		for (int i = 0; i < cAGHCNIPEHK; i++)
		{
			if (hJNDKEJNHED[i * 2] != 0)
			{
				num = (IBBBMACIBGK.BIKIKKLGPFO[++IBBBMACIBGK.CELAEDOLINC] = i);
				IBBBMACIBGK.BGLFLIOOKMO[i] = 0;
			}
			else
			{
				hJNDKEJNHED[i * 2 + 1] = 0;
			}
		}
		int num2;
		while (IBBBMACIBGK.CELAEDOLINC < 2)
		{
			num2 = (IBBBMACIBGK.BIKIKKLGPFO[++IBBBMACIBGK.CELAEDOLINC] = ((num < 2) ? (++num) : 0));
			hJNDKEJNHED[num2 * 2] = 1;
			IBBBMACIBGK.BGLFLIOOKMO[num2] = 0;
			IBBBMACIBGK.ANCMCHFJPGM--;
			if (lCKGJGMIDCK != null)
			{
				IBBBMACIBGK.JLOLMPLABAK -= lCKGJGMIDCK[num2 * 2 + 1];
			}
		}
		MINEPMNHICO = num;
		for (int i = IBBBMACIBGK.CELAEDOLINC / 2; i >= 1; i--)
		{
			IBBBMACIBGK.AHJHGKNOLJN(hJNDKEJNHED, i);
		}
		num2 = cAGHCNIPEHK;
		do
		{
			int i = IBBBMACIBGK.BIKIKKLGPFO[1];
			IBBBMACIBGK.BIKIKKLGPFO[1] = IBBBMACIBGK.BIKIKKLGPFO[IBBBMACIBGK.CELAEDOLINC--];
			IBBBMACIBGK.AHJHGKNOLJN(hJNDKEJNHED, 1);
			int num3 = IBBBMACIBGK.BIKIKKLGPFO[1];
			IBBBMACIBGK.BIKIKKLGPFO[--IBBBMACIBGK.HGLKJACDOGP] = i;
			IBBBMACIBGK.BIKIKKLGPFO[--IBBBMACIBGK.HGLKJACDOGP] = num3;
			hJNDKEJNHED[num2 * 2] = (short)(hJNDKEJNHED[i * 2] + hJNDKEJNHED[num3 * 2]);
			IBBBMACIBGK.BGLFLIOOKMO[num2] = (byte)(Math.Max(IBBBMACIBGK.BGLFLIOOKMO[i], IBBBMACIBGK.BGLFLIOOKMO[num3]) + 1);
			hJNDKEJNHED[i * 2 + 1] = (hJNDKEJNHED[num3 * 2 + 1] = (short)num2);
			IBBBMACIBGK.BIKIKKLGPFO[1] = num2++;
			IBBBMACIBGK.AHJHGKNOLJN(hJNDKEJNHED, 1);
		}
		while (IBBBMACIBGK.CELAEDOLINC >= 2);
		IBBBMACIBGK.BIKIKKLGPFO[--IBBBMACIBGK.HGLKJACDOGP] = IBBBMACIBGK.BIKIKKLGPFO[1];
		HCKALGLMAEB(IBBBMACIBGK);
		NIMAHIDOGKO(hJNDKEJNHED, num, IBBBMACIBGK.KBBMIHOPGJA);
	}

	internal static void NIMAHIDOGKO(short[] ACNCGKPOKIC, int MINEPMNHICO, short[] KBBMIHOPGJA)
	{
		short[] array = new short[16];
		short num = 0;
		for (int i = 1; i <= 15; i++)
		{
			num = (array[i] = (short)(num + KBBMIHOPGJA[i - 1] << 1));
		}
		for (int j = 0; j <= MINEPMNHICO; j++)
		{
			int num2 = ACNCGKPOKIC[j * 2 + 1];
			if (num2 != 0)
			{
				ACNCGKPOKIC[j * 2] = (short)ABEPBOHLFCP(array[num2]++, num2);
			}
		}
	}

	internal static int ABEPBOHLFCP(int FJCNPLPKFKP, int NBEDPKHALCN)
	{
		int num = 0;
		do
		{
			num |= FJCNPLPKFKP & 1;
			FJCNPLPKFKP >>= 1;
			num <<= 1;
		}
		while (--NBEDPKHALCN > 0);
		return num >> 1;
	}
}
